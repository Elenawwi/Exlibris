{% extends 'Exlib_app/base.html' %}

{% block content %}
<div class="container mx-auto px-4 lg:px-8 max-w-4xl py-12">
    <div class="bg-white border-2 border-brut-black rounded-2xl p-6 lg:p-8 shadow-hard">
        <h1 class="font-display font-extrabold text-3xl mb-4 text-center">Тест рекомендаций</h1>
        <p class="text-gray-600 text-center mb-8">Ответьте на вопросы, чтобы получить персональные рекомендации книг</p>
        
        <form id="quiz-form" class="space-y-8">
            {% csrf_token %}
            
            {% for question in questions %}
            <div class="quiz-question p-4 border-2 border-brut-black rounded-xl" data-question-id="{{ question.id }}">
                <h3 class="font-bold text-lg mb-4">{{ forloop.counter }}. {{ question.question }}</h3>
                
                <div class="space-y-2">
                    {% for option in question.options.all %}
                    <label class="flex items-center p-3 border border-brut-black rounded-lg hover:bg-gray-50 cursor-pointer">
                        <input type="radio" 
                               name="question_{{ question.id }}" 
                               value="{{ option.id }}" 
                               class="mr-3">
                        <span>{{ option.text }}</span>
                    </label>
                    {% endfor %}
                </div>
            </div>
            {% endfor %}
            
            <div class="text-center mt-10">
                <button type="submit" 
                        class="bg-brut-black text-white px-8 py-3 rounded-lg font-bold border-2 border-brut-black hover:bg-soft-lime hover:text-brut-black transition-colors">
                    Получить рекомендации
                </button>
            </div>
        </form>
        
        <div id="recommendations-container" class="mt-8"></div>
    </div>
</div>
{% endblock %}